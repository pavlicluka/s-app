var B=Object.defineProperty;var Q=(n,t,e)=>t in n?B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var b=(n,t,e)=>Q(n,typeof t!="symbol"?t+"":t,e);import{E as K}from"./index-Er-L6qQ7.js";function f(n){const t=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&t==="[object Date]"?new n.constructor(+n):typeof n=="number"||t==="[object Number]"||typeof n=="string"||t==="[object String]"?new Date(n):new Date(NaN)}function j(n,t){return n instanceof Date?new n.constructor(t):new Date(t)}const L=6048e5,U=864e5;let J={};function E(){return J}function F(n,t){var u,c,d,h;const e=E(),a=(t==null?void 0:t.weekStartsOn)??((c=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??e.weekStartsOn??((h=(d=e.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,r=f(n),o=r.getDay(),i=(o<a?7:0)+o-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function T(n){return F(n,{weekStartsOn:1})}function $(n){const t=f(n),e=t.getFullYear(),a=j(n,0);a.setFullYear(e+1,0,4),a.setHours(0,0,0,0);const r=T(a),o=j(n,0);o.setFullYear(e,0,4),o.setHours(0,0,0,0);const i=T(o);return t.getTime()>=r.getTime()?e+1:t.getTime()>=i.getTime()?e:e-1}function I(n){const t=f(n);return t.setHours(0,0,0,0),t}function R(n){const t=f(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function Z(n,t){const e=I(n),a=I(t),r=+e-R(e),o=+a-R(a);return Math.round((r-o)/U)}function tt(n){const t=$(n),e=j(n,0);return e.setFullYear(t,0,4),e.setHours(0,0,0,0),T(e)}function et(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function nt(n){if(!et(n)&&typeof n!="number")return!1;const t=f(n);return!isNaN(Number(t))}function at(n){const t=f(n),e=j(n,0);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e}const rt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ot=(n,t,e)=>{let a;const r=rt[n];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+a:a+" ago":a};function D(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const it={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},st={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ut={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ct={date:D({formats:it,defaultWidth:"full"}),time:D({formats:st,defaultWidth:"full"}),dateTime:D({formats:ut,defaultWidth:"full"})},dt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lt=(n,t,e,a)=>dt[n];function g(n){return(t,e)=>{const a=e!=null&&e.context?String(e.context):"standalone";let r;if(a==="formatting"&&n.formattingValues){const i=n.defaultFormattingWidth||n.defaultWidth,u=e!=null&&e.width?String(e.width):i;r=n.formattingValues[u]||n.formattingValues[i]}else{const i=n.defaultWidth,u=e!=null&&e.width?String(e.width):n.defaultWidth;r=n.values[u]||n.values[i]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const ht={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ft={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},bt=(n,t)=>{const e=Number(n),a=e%100;if(a>20||a<10)switch(a%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},yt={ordinalNumber:bt,era:g({values:ht,defaultWidth:"wide"}),quarter:g({values:mt,defaultWidth:"wide",argumentCallback:n=>n-1}),month:g({values:ft,defaultWidth:"wide"}),day:g({values:gt,defaultWidth:"wide"}),dayPeriod:g({values:wt,defaultWidth:"wide",formattingValues:pt,defaultFormattingWidth:"wide"})};function w(n){return(t,e={})=>{const a=e.width,r=a&&n.matchPatterns[a]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const i=o[0],u=a&&n.parsePatterns[a]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(u)?vt(u,p=>p.test(i)):kt(u,p=>p.test(i));let d;d=n.valueCallback?n.valueCallback(c):c,d=e.valueCallback?e.valueCallback(d):d;const h=t.slice(i.length);return{value:d,rest:h}}}function kt(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function vt(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function V(n){return(t,e={})=>{const a=t.match(n.matchPattern);if(!a)return null;const r=a[0],o=t.match(n.parsePattern);if(!o)return null;let i=n.valueCallback?n.valueCallback(o[0]):o[0];i=e.valueCallback?e.valueCallback(i):i;const u=t.slice(r.length);return{value:i,rest:u}}}const Pt=/^(\d+)(th|st|nd|rd)?/i,jt=/\d+/i,Ot={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Dt={any:[/^b/i,/^(a|c)/i]},St={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mt={any:[/1/i,/2/i,/3/i,/4/i]},Ft={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Tt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Et={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Wt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_t={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yt={ordinalNumber:V({matchPattern:Pt,parsePattern:jt,valueCallback:n=>parseInt(n,10)}),era:w({matchPatterns:Ot,defaultMatchWidth:"wide",parsePatterns:Dt,defaultParseWidth:"any"}),quarter:w({matchPatterns:St,defaultMatchWidth:"wide",parsePatterns:Mt,defaultParseWidth:"any",valueCallback:n=>n+1}),month:w({matchPatterns:Ft,defaultMatchWidth:"wide",parsePatterns:Tt,defaultParseWidth:"any"}),day:w({matchPatterns:Et,defaultMatchWidth:"wide",parsePatterns:Wt,defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:xt,defaultMatchWidth:"any",parsePatterns:_t,defaultParseWidth:"any"})},Nt={code:"en-US",formatDistance:ot,formatLong:ct,formatRelative:lt,localize:yt,match:Yt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function It(n){const t=f(n);return Z(t,at(t))+1}function Rt(n){const t=f(n),e=+T(t)-+tt(t);return Math.round(e/L)+1}function q(n,t){var h,p,S,M;const e=f(n),a=e.getFullYear(),r=E(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??r.firstWeekContainsDate??((M=(S=r.locale)==null?void 0:S.options)==null?void 0:M.firstWeekContainsDate)??1,i=j(n,0);i.setFullYear(a+1,0,o),i.setHours(0,0,0,0);const u=F(i,t),c=j(n,0);c.setFullYear(a,0,o),c.setHours(0,0,0,0);const d=F(c,t);return e.getTime()>=u.getTime()?a+1:e.getTime()>=d.getTime()?a:a-1}function Ct(n,t){var u,c,d,h;const e=E(),a=(t==null?void 0:t.firstWeekContainsDate)??((c=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??e.firstWeekContainsDate??((h=(d=e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,r=q(n,t),o=j(n,0);return o.setFullYear(r,0,a),o.setHours(0,0,0,0),F(o,t)}function zt(n,t){const e=f(n),a=+F(e,t)-+Ct(e,t);return Math.round(a/L)+1}function s(n,t){const e=n<0?"-":"",a=Math.abs(n).toString().padStart(t,"0");return e+a}const y={y(n,t){const e=n.getFullYear(),a=e>0?e:1-e;return s(t==="yy"?a%100:a,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):s(e+1,2)},d(n,t){return s(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return s(n.getHours()%12||12,t.length)},H(n,t){return s(n.getHours(),t.length)},m(n,t){return s(n.getMinutes(),t.length)},s(n,t){return s(n.getSeconds(),t.length)},S(n,t){const e=t.length,a=n.getMilliseconds(),r=Math.trunc(a*Math.pow(10,e-3));return s(r,t.length)}},O={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},C={G:function(n,t,e){const a=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(a,{width:"abbreviated"});case"GGGGG":return e.era(a,{width:"narrow"});case"GGGG":default:return e.era(a,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const a=n.getFullYear(),r=a>0?a:1-a;return e.ordinalNumber(r,{unit:"year"})}return y.y(n,t)},Y:function(n,t,e,a){const r=q(n,a),o=r>0?r:1-r;if(t==="YY"){const i=o%100;return s(i,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):s(o,t.length)},R:function(n,t){const e=$(n);return s(e,t.length)},u:function(n,t){const e=n.getFullYear();return s(e,t.length)},Q:function(n,t,e){const a=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return s(a,2);case"Qo":return e.ordinalNumber(a,{unit:"quarter"});case"QQQ":return e.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(a,{width:"wide",context:"formatting"})}},q:function(n,t,e){const a=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return s(a,2);case"qo":return e.ordinalNumber(a,{unit:"quarter"});case"qqq":return e.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(a,{width:"wide",context:"standalone"})}},M:function(n,t,e){const a=n.getMonth();switch(t){case"M":case"MM":return y.M(n,t);case"Mo":return e.ordinalNumber(a+1,{unit:"month"});case"MMM":return e.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(a,{width:"wide",context:"formatting"})}},L:function(n,t,e){const a=n.getMonth();switch(t){case"L":return String(a+1);case"LL":return s(a+1,2);case"Lo":return e.ordinalNumber(a+1,{unit:"month"});case"LLL":return e.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(a,{width:"wide",context:"standalone"})}},w:function(n,t,e,a){const r=zt(n,a);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):s(r,t.length)},I:function(n,t,e){const a=Rt(n);return t==="Io"?e.ordinalNumber(a,{unit:"week"}):s(a,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):y.d(n,t)},D:function(n,t,e){const a=It(n);return t==="Do"?e.ordinalNumber(a,{unit:"dayOfYear"}):s(a,t.length)},E:function(n,t,e){const a=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(a,{width:"short",context:"formatting"});case"EEEE":default:return e.day(a,{width:"wide",context:"formatting"})}},e:function(n,t,e,a){const r=n.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return s(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,a){const r=n.getDay(),o=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return s(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const a=n.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return s(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(a,{width:"short",context:"formatting"});case"iiii":default:return e.day(a,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const a=n.getHours();let r;switch(a===12?r=O.noon:a===0?r=O.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const a=n.getHours();let r;switch(a>=17?r=O.evening:a>=12?r=O.afternoon:a>=4?r=O.morning:r=O.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let a=n.getHours()%12;return a===0&&(a=12),e.ordinalNumber(a,{unit:"hour"})}return y.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):y.H(n,t)},K:function(n,t,e){const a=n.getHours()%12;return t==="Ko"?e.ordinalNumber(a,{unit:"hour"}):s(a,t.length)},k:function(n,t,e){let a=n.getHours();return a===0&&(a=24),t==="ko"?e.ordinalNumber(a,{unit:"hour"}):s(a,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):y.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):y.s(n,t)},S:function(n,t){return y.S(n,t)},X:function(n,t,e){const a=n.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return A(a);case"XXXX":case"XX":return k(a);case"XXXXX":case"XXX":default:return k(a,":")}},x:function(n,t,e){const a=n.getTimezoneOffset();switch(t){case"x":return A(a);case"xxxx":case"xx":return k(a);case"xxxxx":case"xxx":default:return k(a,":")}},O:function(n,t,e){const a=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+z(a,":");case"OOOO":default:return"GMT"+k(a,":")}},z:function(n,t,e){const a=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+z(a,":");case"zzzz":default:return"GMT"+k(a,":")}},t:function(n,t,e){const a=Math.trunc(n.getTime()/1e3);return s(a,t.length)},T:function(n,t,e){const a=n.getTime();return s(a,t.length)}};function z(n,t=""){const e=n>0?"-":"+",a=Math.abs(n),r=Math.trunc(a/60),o=a%60;return o===0?e+String(r):e+String(r)+t+s(o,2)}function A(n,t){return n%60===0?(n>0?"-":"+")+s(Math.abs(n)/60,2):k(n,t)}function k(n,t=""){const e=n>0?"-":"+",a=Math.abs(n),r=s(Math.trunc(a/60),2),o=s(a%60,2);return e+r+t+o}const H=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},G=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},At=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],a=e[1],r=e[2];if(!r)return H(n,t);let o;switch(a){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",H(a,t)).replace("{{time}}",G(r,t))},Ht={p:G,P:At},Lt=/^D+$/,$t=/^Y+$/,Vt=["D","DD","YY","YYYY"];function qt(n){return Lt.test(n)}function Gt(n){return $t.test(n)}function Xt(n,t,e){const a=Bt(n,t,e);if(console.warn(a),Vt.includes(n))throw new RangeError(a)}function Bt(n,t,e){const a=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${a} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Qt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ut=/^'([^]*?)'?$/,Jt=/''/g,Zt=/[a-zA-Z]/;function v(n,t,e){var h,p,S,M,x,_,Y,N;const a=E(),r=(e==null?void 0:e.locale)??a.locale??Nt,o=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((M=(S=a.locale)==null?void 0:S.options)==null?void 0:M.firstWeekContainsDate)??1,i=(e==null?void 0:e.weekStartsOn)??((_=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:_.weekStartsOn)??a.weekStartsOn??((N=(Y=a.locale)==null?void 0:Y.options)==null?void 0:N.weekStartsOn)??0,u=f(n);if(!nt(u))throw new RangeError("Invalid time value");let c=t.match(Kt).map(m=>{const l=m[0];if(l==="p"||l==="P"){const W=Ht[l];return W(m,r.formatLong)}return m}).join("").match(Qt).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const l=m[0];if(l==="'")return{isToken:!1,value:te(m)};if(C[l])return{isToken:!0,value:m};if(l.match(Zt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+l+"`");return{isToken:!1,value:m}});r.localize.preprocessor&&(c=r.localize.preprocessor(u,c));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:r};return c.map(m=>{if(!m.isToken)return m.value;const l=m.value;(!(e!=null&&e.useAdditionalWeekYearTokens)&&Gt(l)||!(e!=null&&e.useAdditionalDayOfYearTokens)&&qt(l))&&Xt(l,t,String(n));const W=C[l[0]];return W(u,l,r.localize,d)}).join("")}function te(n){const t=n.match(Ut);return t?t[1].replace(Jt,"'"):n}function ee(n){return n.one!==void 0}const ne={lessThanXSeconds:{present:{one:"manj kot {{count}} sekunda",two:"manj kot {{count}} sekundi",few:"manj kot {{count}} sekunde",other:"manj kot {{count}} sekund"},past:{one:"manj kot {{count}} sekundo",two:"manj kot {{count}} sekundama",few:"manj kot {{count}} sekundami",other:"manj kot {{count}} sekundami"},future:{one:"manj kot {{count}} sekundo",two:"manj kot {{count}} sekundi",few:"manj kot {{count}} sekunde",other:"manj kot {{count}} sekund"}},xSeconds:{present:{one:"{{count}} sekunda",two:"{{count}} sekundi",few:"{{count}} sekunde",other:"{{count}} sekund"},past:{one:"{{count}} sekundo",two:"{{count}} sekundama",few:"{{count}} sekundami",other:"{{count}} sekundami"},future:{one:"{{count}} sekundo",two:"{{count}} sekundi",few:"{{count}} sekunde",other:"{{count}} sekund"}},halfAMinute:"pol minute",lessThanXMinutes:{present:{one:"manj kot {{count}} minuta",two:"manj kot {{count}} minuti",few:"manj kot {{count}} minute",other:"manj kot {{count}} minut"},past:{one:"manj kot {{count}} minuto",two:"manj kot {{count}} minutama",few:"manj kot {{count}} minutami",other:"manj kot {{count}} minutami"},future:{one:"manj kot {{count}} minuto",two:"manj kot {{count}} minuti",few:"manj kot {{count}} minute",other:"manj kot {{count}} minut"}},xMinutes:{present:{one:"{{count}} minuta",two:"{{count}} minuti",few:"{{count}} minute",other:"{{count}} minut"},past:{one:"{{count}} minuto",two:"{{count}} minutama",few:"{{count}} minutami",other:"{{count}} minutami"},future:{one:"{{count}} minuto",two:"{{count}} minuti",few:"{{count}} minute",other:"{{count}} minut"}},aboutXHours:{present:{one:"približno {{count}} ura",two:"približno {{count}} uri",few:"približno {{count}} ure",other:"približno {{count}} ur"},past:{one:"približno {{count}} uro",two:"približno {{count}} urama",few:"približno {{count}} urami",other:"približno {{count}} urami"},future:{one:"približno {{count}} uro",two:"približno {{count}} uri",few:"približno {{count}} ure",other:"približno {{count}} ur"}},xHours:{present:{one:"{{count}} ura",two:"{{count}} uri",few:"{{count}} ure",other:"{{count}} ur"},past:{one:"{{count}} uro",two:"{{count}} urama",few:"{{count}} urami",other:"{{count}} urami"},future:{one:"{{count}} uro",two:"{{count}} uri",few:"{{count}} ure",other:"{{count}} ur"}},xDays:{present:{one:"{{count}} dan",two:"{{count}} dni",few:"{{count}} dni",other:"{{count}} dni"},past:{one:"{{count}} dnem",two:"{{count}} dnevoma",few:"{{count}} dnevi",other:"{{count}} dnevi"},future:{one:"{{count}} dan",two:"{{count}} dni",few:"{{count}} dni",other:"{{count}} dni"}},aboutXWeeks:{one:"približno {{count}} teden",two:"približno {{count}} tedna",few:"približno {{count}} tedne",other:"približno {{count}} tednov"},xWeeks:{one:"{{count}} teden",two:"{{count}} tedna",few:"{{count}} tedne",other:"{{count}} tednov"},aboutXMonths:{present:{one:"približno {{count}} mesec",two:"približno {{count}} meseca",few:"približno {{count}} mesece",other:"približno {{count}} mesecev"},past:{one:"približno {{count}} mesecem",two:"približno {{count}} mesecema",few:"približno {{count}} meseci",other:"približno {{count}} meseci"},future:{one:"približno {{count}} mesec",two:"približno {{count}} meseca",few:"približno {{count}} mesece",other:"približno {{count}} mesecev"}},xMonths:{present:{one:"{{count}} mesec",two:"{{count}} meseca",few:"{{count}} meseci",other:"{{count}} mesecev"},past:{one:"{{count}} mesecem",two:"{{count}} mesecema",few:"{{count}} meseci",other:"{{count}} meseci"},future:{one:"{{count}} mesec",two:"{{count}} meseca",few:"{{count}} mesece",other:"{{count}} mesecev"}},aboutXYears:{present:{one:"približno {{count}} leto",two:"približno {{count}} leti",few:"približno {{count}} leta",other:"približno {{count}} let"},past:{one:"približno {{count}} letom",two:"približno {{count}} letoma",few:"približno {{count}} leti",other:"približno {{count}} leti"},future:{one:"približno {{count}} leto",two:"približno {{count}} leti",few:"približno {{count}} leta",other:"približno {{count}} let"}},xYears:{present:{one:"{{count}} leto",two:"{{count}} leti",few:"{{count}} leta",other:"{{count}} let"},past:{one:"{{count}} letom",two:"{{count}} letoma",few:"{{count}} leti",other:"{{count}} leti"},future:{one:"{{count}} leto",two:"{{count}} leti",few:"{{count}} leta",other:"{{count}} let"}},overXYears:{present:{one:"več kot {{count}} leto",two:"več kot {{count}} leti",few:"več kot {{count}} leta",other:"več kot {{count}} let"},past:{one:"več kot {{count}} letom",two:"več kot {{count}} letoma",few:"več kot {{count}} leti",other:"več kot {{count}} leti"},future:{one:"več kot {{count}} leto",two:"več kot {{count}} leti",few:"več kot {{count}} leta",other:"več kot {{count}} let"}},almostXYears:{present:{one:"skoraj {{count}} leto",two:"skoraj {{count}} leti",few:"skoraj {{count}} leta",other:"skoraj {{count}} let"},past:{one:"skoraj {{count}} letom",two:"skoraj {{count}} letoma",few:"skoraj {{count}} leti",other:"skoraj {{count}} leti"},future:{one:"skoraj {{count}} leto",two:"skoraj {{count}} leti",few:"skoraj {{count}} leta",other:"skoraj {{count}} let"}}};function ae(n){switch(n%100){case 1:return"one";case 2:return"two";case 3:case 4:return"few";default:return"other"}}const re=(n,t,e)=>{let a="",r="present";e!=null&&e.addSuffix&&(e.comparison&&e.comparison>0?(r="future",a="čez "):(r="past",a="pred "));const o=ne[n];if(typeof o=="string")a+=o;else{const i=ae(t);ee(o)?a+=o[i].replace("{{count}}",String(t)):a+=o[r][i].replace("{{count}}",String(t))}return a},oe={full:"EEEE, dd. MMMM y",long:"dd. MMMM y",medium:"d. MMM y",short:"d. MM. yy"},ie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},se={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},ue={date:D({formats:oe,defaultWidth:"full"}),time:D({formats:ie,defaultWidth:"full"}),dateTime:D({formats:se,defaultWidth:"full"})},ce={lastWeek:n=>{switch(n.getDay()){case 0:return"'prejšnjo nedeljo ob' p";case 3:return"'prejšnjo sredo ob' p";case 6:return"'prejšnjo soboto ob' p";default:return"'prejšnji' EEEE 'ob' p"}},yesterday:"'včeraj ob' p",today:"'danes ob' p",tomorrow:"'jutri ob' p",nextWeek:n=>{switch(n.getDay()){case 0:return"'naslednjo nedeljo ob' p";case 3:return"'naslednjo sredo ob' p";case 6:return"'naslednjo soboto ob' p";default:return"'naslednji' EEEE 'ob' p"}},other:"P"},de=(n,t,e,a)=>{const r=ce[n];return typeof r=="function"?r(t):r},le={narrow:["pr. n. št.","po n. št."],abbreviated:["pr. n. št.","po n. št."],wide:["pred našim štetjem","po našem štetju"]},he={narrow:["1","2","3","4"],abbreviated:["1. čet.","2. čet.","3. čet.","4. čet."],wide:["1. četrtletje","2. četrtletje","3. četrtletje","4. četrtletje"]},me={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan.","feb.","mar.","apr.","maj","jun.","jul.","avg.","sep.","okt.","nov.","dec."],wide:["januar","februar","marec","april","maj","junij","julij","avgust","september","oktober","november","december"]},fe={narrow:["n","p","t","s","č","p","s"],short:["ned.","pon.","tor.","sre.","čet.","pet.","sob."],abbreviated:["ned.","pon.","tor.","sre.","čet.","pet.","sob."],wide:["nedelja","ponedeljek","torek","sreda","četrtek","petek","sobota"]},ge={narrow:{am:"d",pm:"p",midnight:"24.00",noon:"12.00",morning:"j",afternoon:"p",evening:"v",night:"n"},abbreviated:{am:"dop.",pm:"pop.",midnight:"poln.",noon:"pold.",morning:"jut.",afternoon:"pop.",evening:"več.",night:"noč"},wide:{am:"dop.",pm:"pop.",midnight:"polnoč",noon:"poldne",morning:"jutro",afternoon:"popoldne",evening:"večer",night:"noč"}},we={narrow:{am:"d",pm:"p",midnight:"24.00",noon:"12.00",morning:"zj",afternoon:"p",evening:"zv",night:"po"},abbreviated:{am:"dop.",pm:"pop.",midnight:"opoln.",noon:"opold.",morning:"zjut.",afternoon:"pop.",evening:"zveč.",night:"ponoči"},wide:{am:"dop.",pm:"pop.",midnight:"opolnoči",noon:"opoldne",morning:"zjutraj",afternoon:"popoldan",evening:"zvečer",night:"ponoči"}},pe=(n,t)=>Number(n)+".",be={ordinalNumber:pe,era:g({values:le,defaultWidth:"wide"}),quarter:g({values:he,defaultWidth:"wide",argumentCallback:n=>n-1}),month:g({values:me,defaultWidth:"wide"}),day:g({values:fe,defaultWidth:"wide"}),dayPeriod:g({values:ge,defaultWidth:"wide",formattingValues:we,defaultFormattingWidth:"wide"})},ye=/^(\d+)\./i,ke=/\d+/i,ve={abbreviated:/^(pr\. n\. št\.|po n\. št\.)/i,wide:/^(pred Kristusom|pred na[sš]im [sš]tetjem|po Kristusu|po na[sš]em [sš]tetju|na[sš]ega [sš]tetja)/i},Pe={any:[/^pr/i,/^(po|na[sš]em)/i]},je={narrow:/^[1234]/i,abbreviated:/^[1234]\.\s?[čc]et\.?/i,wide:/^[1234]\. [čc]etrtletje/i},Oe={any:[/1/i,/2/i,/3/i,/4/i]},De={narrow:/^[jfmasond]/i,abbreviated:/^(jan\.|feb\.|mar\.|apr\.|maj|jun\.|jul\.|avg\.|sep\.|okt\.|nov\.|dec\.)/i,wide:/^(januar|februar|marec|april|maj|junij|julij|avgust|september|oktober|november|december)/i},Se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],abbreviated:[/^ja/i,/^fe/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^av/i,/^s/i,/^o/i,/^n/i,/^d/i],wide:[/^ja/i,/^fe/i,/^mar/i,/^ap/i,/^maj/i,/^jun/i,/^jul/i,/^av/i,/^s/i,/^o/i,/^n/i,/^d/i]},Me={narrow:/^[nptsčc]/i,short:/^(ned\.|pon\.|tor\.|sre\.|[cč]et\.|pet\.|sob\.)/i,abbreviated:/^(ned\.|pon\.|tor\.|sre\.|[cč]et\.|pet\.|sob\.)/i,wide:/^(nedelja|ponedeljek|torek|sreda|[cč]etrtek|petek|sobota)/i},Fe={narrow:[/^n/i,/^p/i,/^t/i,/^s/i,/^[cč]/i,/^p/i,/^s/i],any:[/^n/i,/^po/i,/^t/i,/^sr/i,/^[cč]/i,/^pe/i,/^so/i]},Te={narrow:/^(d|po?|z?v|n|z?j|24\.00|12\.00)/i,any:/^(dop\.|pop\.|o?poln(\.|o[cč]i?)|o?pold(\.|ne)|z?ve[cč](\.|er)|(po)?no[cč]i?|popold(ne|an)|jut(\.|ro)|zjut(\.|raj))/i},Ee={narrow:{am:/^d/i,pm:/^p/i,midnight:/^24/i,noon:/^12/i,morning:/^(z?j)/i,afternoon:/^p/i,evening:/^(z?v)/i,night:/^(n|po)/i},any:{am:/^dop\./i,pm:/^pop\./i,midnight:/^o?poln/i,noon:/^o?pold/i,morning:/j/i,afternoon:/^pop\./i,evening:/^z?ve/i,night:/(po)?no/i}},We={ordinalNumber:V({matchPattern:ye,parsePattern:ke,valueCallback:n=>parseInt(n,10)}),era:w({matchPatterns:ve,defaultMatchWidth:"wide",parsePatterns:Pe,defaultParseWidth:"any"}),quarter:w({matchPatterns:je,defaultMatchWidth:"wide",parsePatterns:Oe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:w({matchPatterns:De,defaultMatchWidth:"wide",parsePatterns:Se,defaultParseWidth:"wide"}),day:w({matchPatterns:Me,defaultMatchWidth:"wide",parsePatterns:Fe,defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:Te,defaultMatchWidth:"any",parsePatterns:Ee,defaultParseWidth:"any"})},P={code:"sl",formatDistance:re,formatLong:ue,formatRelative:de,localize:be,match:We,options:{weekStartsOn:1,firstWeekContainsDate:1}};function xe(n){const t=n.timestamp||new Date;return{id:`sig_${n.incidentId}_${t.getTime()}`,name:n.signerName,timestamp:t.toISOString(),content:`Digital signature for incident ${n.incidentId} signed by ${n.signerName} (${n.signerRole})`}}class X{constructor(){b(this,"doc");b(this,"pageHeight");b(this,"pageWidth");b(this,"margin");b(this,"currentY");b(this,"fontSize");this.doc=new K,this.pageHeight=this.doc.internal.pageSize.height,this.pageWidth=this.doc.internal.pageSize.width,this.margin=20,this.currentY=this.margin,this.fontSize=11}addHeader(t,e,a){this.doc.setFontSize(16),this.doc.setFont("helvetica","bold"),this.doc.text(t,this.margin,this.currentY),this.currentY+=10,this.doc.setFontSize(12),this.doc.setFont("helvetica","normal"),this.doc.text(e,this.margin,this.currentY),this.currentY+=8,this.doc.setFontSize(10),this.doc.setFont("helvetica","italic");const r=a==="IPRS"?"INFORMACIJSKI POOBLAŠČENEC REPUBLIKE SLOVENIJE":a==="SI-CERT"?"SI-CERT - SLOVENIAN COMPUTER EMERGENCY RESPONSE TEAM":"NOTRANJE POROČILO";this.doc.text(r,this.margin,this.currentY),this.currentY+=15,this.addLine()}addLine(){this.doc.line(this.margin,this.currentY,this.pageWidth-this.margin,this.currentY),this.currentY+=8}addSection(t){this.checkPageBreak(),this.doc.setFontSize(13),this.doc.setFont("helvetica","bold"),this.doc.text(t,this.margin,this.currentY),this.currentY+=8}addField(t,e){if(this.checkPageBreak(),e==null||e==="")return;this.doc.setFontSize(this.fontSize),this.doc.setFont("helvetica","bold"),this.doc.text(`${t}:`,this.margin,this.currentY),this.doc.setFont("helvetica","normal");const a=typeof e=="boolean"?e?"Da":"Ne":String(e),r=this.doc.splitTextToSize(a,this.pageWidth-this.margin*2-80);this.doc.text(r,this.margin+80,this.currentY);const o=r.length*6;this.currentY+=o+3}addArrayField(t,e){this.checkPageBreak(),!(!e||e.length===0)&&(this.doc.setFontSize(this.fontSize),this.doc.setFont("helvetica","bold"),this.doc.text(`${t}:`,this.margin,this.currentY),this.currentY+=6,this.doc.setFont("helvetica","normal"),e.forEach((a,r)=>{this.doc.text(`• ${a}`,this.margin+80,this.currentY),this.currentY+=5}),this.currentY+=3)}checkPageBreak(){this.currentY>this.pageHeight-50&&(this.doc.addPage(),this.currentY=this.margin)}addFooter(){const t=this.doc.internal.pages.length-1;this.doc.setFontSize(9),this.doc.setFont("helvetica","italic");for(let e=1;e<=t;e++){this.doc.setPage(e);const a=`Stran ${e} od ${t} - Standario GDPR Evidence System - ${v(new Date,"dd.MM.yyyy HH:mm",{locale:P})}`;this.doc.text(a,this.margin,this.pageHeight-15)}}addMetadata(t){this.addSection("METAPODATKI"),this.addField("ID incidenta",t.breach_id),this.addField("Datum ustvarjanja",t.created_at?v(new Date(t.created_at),"dd.MM.yyyy HH:mm",{locale:P}):""),this.addField("Zadnja posodobitev",t.updated_at?v(new Date(t.updated_at),"dd.MM.yyyy HH:mm",{locale:P}):""),this.addLine()}addBasicInfo(t){this.addSection("1. OSNOVNE INFORMACIJE O INCIDENTU"),this.addField("ID incidenta",t.breach_id),this.addField("Datum kršitve",t.breach_date?v(new Date(t.breach_date),"dd.MM.yyyy",{locale:P}):""),this.addField("Datum odkritja",t.discovery_date?v(new Date(t.discovery_date),"dd.MM.yyyy HH:mm",{locale:P}):""),this.addField("Narava kršitve",t.nature_of_breach),this.addField("Resnost incidenta",t.severity),this.addField("Status obravnave",t.status),this.addLine()}addDiscoveryTimeline(t){this.addSection("2. ODKRITJE IN ČASOVNICA"),this.addField("Datum začetka kršitve",t.breach_date),this.addField("Datum odkritja",t.discovery_date),this.addField("Rok za obvestilo (72 ur)",t.notification_deadline),t.measures_taken&&this.addField("Ukrepi takoj po odkritju",t.measures_taken),this.addLine()}addAffectedData(t){this.addSection("3. PRIZADETI PODATKI"),this.addArrayField("Kategorije podatkov",t.data_categories),this.addField("Število prizadetih posameznikov",t.affected_individuals_count),this.addField("Število prizadetih zapisov",t.affected_records_count),t.special_categories_involved&&this.addField("Vključene posebne kategorije podatkov","DA"),this.addLine()}addImpactAssessment(t){this.addSection("4. OCENA VPLIVA"),t.risk_assessment&&this.addField("Ocena tveganja",t.risk_assessment),this.addArrayField("Posledice za posameznike",t.consequences_for_individuals),this.addArrayField("Prizadeta področja",t.affected_areas),this.addLine()}addGDPRCompliance(t){this.addSection("5. GDPR SKLADNOST"),this.addField("Verjetno tveganje (GDPR člen 33(1))",t.reported_to_authority?"Da":"Ne"),this.addField("Prijavljeno nadzornemu organu",t.reported_to_authority?"Da":"Ne"),t.reported_to_authority&&(this.addField("Datum prijave",t.reporting_date),this.addField("Referenčna številka organa",t.ip_reference_number),t.reason_for_delay&&this.addField("Razlog zamude",t.reason_for_delay)),this.addField("Obvestilo posameznikov potrebno (GDPR člen 34)",t.notify_individuals?"Da":"Ne"),t.notify_individuals&&t.notification_content&&this.addField("Vsebina obvestila posameznikom",t.notification_content),this.addLine()}addZVOP2Compliance(t){this.addSection("6. ZVOP-2 SKLADNOST"),t.zvop2_processing_log_reference&&this.addField("Referenca dnevnika obdelave",t.zvop2_processing_log_reference),this.addField("Priglasitev CSIRT potrebna",t.csirt_notification_required?"Da":"Ne"),t.csirt_notification_required&&t.csirt_notification_date&&(this.addField("Datum priglasitve CSIRT",t.csirt_notification_date),this.addField("Referenčna številka CSIRT",t.csirt_reference_number)),this.addLine()}addMeasures(t){this.addSection("7. UKREPI"),this.addArrayField("Ukrepi zajezitve",t.containment_measures),t.measures_taken&&this.addField("Sprejeti ukrepi",t.measures_taken),t.measures_planned&&this.addField("Načrtovani ukrepi",t.measures_planned),this.addLine()}addAuthorityContacts(t){this.addSection("8. KONTAKTI"),this.addField("DPO - Ime in priimek",t.dpo_name),this.addField("DPO - Kontakt",t.dpo_contact),this.addField("Kontakt nadzornega organa",t.authority_contact),this.addLine()}generateIncidentReport(t,e){this.currentY=this.margin;const a={IPRS:"POROČILO O KRŠITVI VAROVANJA PODATKOV","SI-CERT":"POROČILO O KIBERNETSKEM INCIDENTU",INTERNAL:"NOTRANJE POROČILO - KRŠITEV PODATKOV"},r={IPRS:"GDPR člen 33(3) - Obvezne informacije za nadzorni organ","SI-CERT":"Nacionalni načrt odzivanja na kiberneke incidente",INTERNAL:"Evidenca incidentov in kršitev podatkov"};this.addHeader(a[e.format],r[e.format],e.format),this.addSection("OSNOVNI PODATKI O POROČILU"),this.addField("Tip poročila",e.format),this.addField("Datum generiranja",v(new Date,"dd.MM.yyyy HH:mm",{locale:P})),this.addField("Generator","Standario GDPR Evidence System"),this.addLine(),this.addBasicInfo(t),this.addDiscoveryTimeline(t),this.addAffectedData(t),this.addImpactAssessment(t),this.addGDPRCompliance(t),this.addZVOP2Compliance(t),this.addMeasures(t),this.addAuthorityContacts(t),e.includeMetadata!==!1&&this.addMetadata(t),this.addFooter();const o=this.doc.output("blob");return URL.createObjectURL(o)}}new X;class _e{constructor(){b(this,"baseGenerator");this.baseGenerator=new X}async generateSignedIncidentReport(t,e){try{const a=this.baseGenerator.generateIncidentReport(t,e),r=`Incident ${t.breach_id} - ${t.nature_of_breach}`,{pdfContent:o,signature:i,metadata:u}=await xe(t,r,e.format);return{pdfBlobUrl:a,signature:i,metadata:u,downloadUrl:a}}catch(a){throw console.error("Error generating signed PDF:",a),new Error("Napaka pri generiranju podpisanega PDF poročila")}}generateVerificationInfo(t){return`
DIGITALNI PODPIS
================
Podpisnik: ${t.signerName}
E-pošta: ${t.signerEmail}
Čas podpisa: ${v(new Date(t.timestamp),"dd.MM.yyyy HH:mm:ss",{locale:P})}
Hash dokumenta: ${t.signatureHash.substring(0,16)}...
Standard podpisa: RSA-PSS-SHA256
Validacija: Verificiran z digitalnim potrdilom
    `.trim()}addSignatureVerificationToPDF(t,e,a){return t.setFontSize(8),t.setFont("helvetica","normal"),t.splitTextToSize(e,180).forEach(o=>{t.text(o,20,a),a+=4}),a+10}}const Ye=new _e,Re=async n=>Ye.generateSignedIncidentReport(n,{format:"IPRS",includeFullDetails:!0,includeSignature:!0,language:"sl"}),Ce=async(n,t)=>{try{const e=document.createElement("a");return e.href=n.downloadUrl,e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e),setTimeout(()=>{URL.revokeObjectURL(n.downloadUrl)},100),{success:!0,message:`Podpisano PDF poročilo "${t}" je bilo uspešno preneseno.`}}catch(e){return console.error("Error downloading signed PDF:",e),{success:!1,message:"Napaka pri prenosu podpisanega PDF poročila."}}};export{_e as SignedPDFGenerator,Ce as downloadSignedPDF,Re as generateSignedIPRSReport,Ye as signedPdfGenerator};
